# 字体检查指南

## 方法 1：浏览器开发者工具检查（推荐）

### 步骤：
1. 打开网页，按 `F12` 或 `Cmd+Option+I`（Mac）打开开发者工具
2. 选择 **Elements**（元素）标签
3. 点击左上角的 **选择元素工具**（或按 `Cmd+Shift+C`）
4. 点击页面上的任意文本元素
5. 在右侧 **Styles**（样式）面板中，找到 `font-family` 属性
6. 查看计算后的字体值

### 预期结果：
应该看到：
```
font-family: "SF Pro", "SF Pro Display", "SF Pro Text", -apple-system, BlinkMacSystemFont, ...
```

### 检查字体文件加载：
1. 打开 **Network**（网络）标签
2. 刷新页面（`Cmd+R` 或 `F5`）
3. 在筛选器中输入 `font` 或 `ttf`
4. 查看是否有 `SF-Pro` 相关的字体文件请求
5. 确认状态码为 `200`（成功加载）

## 方法 2：检查计算样式

### 在控制台执行：
```javascript
// 检查 body 元素的字体
getComputedStyle(document.body).fontFamily

// 检查特定元素的字体
const element = document.querySelector('h1');
getComputedStyle(element).fontFamily

// 检查所有字体是否加载
document.fonts.check('16px "SF Pro"')
```

### 预期结果：
- `fontFamily` 应该包含 `"SF Pro"` 或 `"SF Pro Display"`
- `document.fonts.check()` 应该返回 `true`

## 方法 3：视觉对比

### 对比方法：
1. **在 macOS 上**：字体应该与系统字体（SF Pro）完全一致
2. **在 Windows/Linux 上**：应该看到与 macOS 相同的字体效果（而不是系统默认字体）
3. **字体特征**：
   - 字母 `a` 的样式（SF Pro 有独特的样式）
   - 数字 `0` 和字母 `O` 的区别
   - 整体字体的圆润度和间距

## 方法 4：检查字体文件路径

### 在控制台执行：
```javascript
// 检查所有 @font-face 规则
Array.from(document.styleSheets)
  .flatMap(sheet => {
    try {
      return Array.from(sheet.cssRules || []);
    } catch (e) {
      return [];
    }
  })
  .filter(rule => rule.type === CSSRule.FONT_FACE_RULE)
  .forEach(rule => {
    console.log(rule.style.fontFamily, rule.style.src);
  });
```

## 方法 5：使用 Font Loading API

### 在控制台执行：
```javascript
// 检查字体是否已加载
document.fonts.ready.then(() => {
  console.log('字体加载完成');
  document.fonts.forEach(font => {
    console.log(font.family, font.status);
  });
});
```

## 方法 6：检查打包后的文件

### 步骤：
1. 运行 `npm run build`
2. 检查 `dist/assets/` 目录中是否有 `SF-Pro-*.ttf` 文件
3. 检查 `dist/assets/*.css` 文件中是否包含 `@font-face` 声明
4. 确认 CSS 中的字体路径正确

## 常见问题排查

### 问题 1：字体文件未加载
**症状**：Network 标签中看不到字体文件请求

**解决方法**：
- 检查 `fonts.scss` 文件是否正确导入
- 检查字体文件路径是否正确
- 确认字体文件存在于 `src/assets/fonts/` 目录

### 问题 2：字体路径错误
**症状**：Network 标签中字体文件返回 404

**解决方法**：
- 检查打包后的路径是否正确
- 确认 Vite 配置正确
- 检查字体文件是否被正确复制到 `dist` 目录

### 问题 3：字体被其他样式覆盖
**症状**：计算样式显示的不是 SF Pro

**解决方法**：
- 检查是否有其他 CSS 规则覆盖了字体
- 使用 `!important` 临时测试（不推荐长期使用）
- 检查 Element Plus 或其他组件库的样式

### 问题 4：字体加载但显示不正确
**症状**：字体文件加载成功，但显示效果不对

**解决方法**：
- 检查 `font-display: swap` 是否设置
- 确认字体文件格式正确（TTF 格式）
- 检查浏览器是否支持该字体格式

## 快速检查脚本

将以下代码保存为书签，点击即可快速检查：

```javascript
javascript:(function(){
  const font = getComputedStyle(document.body).fontFamily;
  const fontsLoaded = document.fonts.check('16px "SF Pro"');
  const fontFiles = Array.from(document.styleSheets)
    .flatMap(s => {
      try { return Array.from(s.cssRules || []); }
      catch { return []; }
    })
    .filter(r => r.type === CSSRule.FONT_FACE_RULE)
    .map(r => ({ family: r.style.fontFamily, src: r.style.src }));
  
  console.log('当前字体:', font);
  console.log('SF Pro 已加载:', fontsLoaded);
  console.log('字体文件:', fontFiles);
  alert(`字体: ${font}\nSF Pro 已加载: ${fontsLoaded ? '是' : '否'}`);
})();
```

## 预期效果

✅ **成功标志**：
- 浏览器开发者工具显示 `font-family` 包含 `"SF Pro"`
- Network 标签显示字体文件成功加载（200 状态）
- 所有设备（包括非苹果设备）显示相同的字体效果
- 字体与 macOS 系统字体视觉效果一致

