<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å­—ä½“æ£€æŸ¥å·¥å…·</title>
  <style>
    body {
      font-family: 'SF Pro', 'SF Pro Display', 'SF Pro Text', -apple-system, BlinkMacSystemFont, sans-serif;
      padding: 20px;
      line-height: 1.6;
    }
    .check-item {
      margin: 20px 0;
      padding: 15px;
      background: #f5f5f7;
      border-radius: 8px;
    }
    .status {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
    }
    .success { background: #67c23a; color: white; }
    .error { background: #f56c6c; color: white; }
    code {
      background: #1d1d1f;
      color: #fff;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, monospace;
    }
  </style>
</head>
<body>
  <h1>ğŸ” å­—ä½“æ£€æŸ¥å·¥å…·</h1>
  
  <div class="check-item">
    <h3>1. å½“å‰å­—ä½“æ—</h3>
    <p id="current-font">æ£€æŸ¥ä¸­...</p>
  </div>
  
  <div class="check-item">
    <h3>2. SF Pro å­—ä½“åŠ è½½çŠ¶æ€</h3>
    <p id="font-status">æ£€æŸ¥ä¸­...</p>
  </div>
  
  <div class="check-item">
    <h3>3. å­—ä½“æ–‡ä»¶åˆ—è¡¨</h3>
    <ul id="font-list"></ul>
  </div>
  
  <div class="check-item">
    <h3>4. è§†è§‰å¯¹æ¯”</h3>
    <p style="font-size: 24px; font-weight: 600;">SF Pro Display - å¤§æ ‡é¢˜æ ·å¼</p>
    <p style="font-size: 16px;">SF Pro Text - æ­£æ–‡æ ·å¼</p>
    <p style="font-family: 'SF Mono', monospace;">SF Mono - ç­‰å®½å­—ä½“æ ·å¼</p>
    <p style="font-size: 14px; color: #666;">å¦‚æœä½ çœ‹åˆ°è¿™äº›æ–‡å­—ä½¿ç”¨äº†è‹¹æœå­—ä½“ï¼Œè¯´æ˜é…ç½®æˆåŠŸï¼</p>
  </div>
  
  <div class="check-item">
    <h3>5. æµ‹è¯•æ–‡æœ¬</h3>
    <p>abcdefghijklmnopqrstuvwxyz</p>
    <p>ABCDEFGHIJKLMNOPQRSTUVWXYZ</p>
    <p>0123456789</p>
    <p>ä¸­æ–‡æµ‹è¯•ï¼šä½ å¥½ä¸–ç•Œï¼</p>
  </div>

  <script>
    // æ£€æŸ¥å½“å‰å­—ä½“
    const currentFont = getComputedStyle(document.body).fontFamily;
    document.getElementById('current-font').innerHTML = 
      `<code>${currentFont}</code><br>` +
      (currentFont.includes('SF Pro') || currentFont.includes('SF Pro Display') || currentFont.includes('SF Pro Text') 
        ? '<span class="status success">âœ“ å·²åº”ç”¨è‹¹æœå­—ä½“</span>'
        : '<span class="status error">âœ— æœªæ£€æµ‹åˆ°è‹¹æœå­—ä½“</span>');
    
    // æ£€æŸ¥å­—ä½“åŠ è½½çŠ¶æ€
    document.fonts.ready.then(() => {
      const sfProLoaded = document.fonts.check('16px "SF Pro"') || 
                          document.fonts.check('16px "SF Pro Display"') ||
                          document.fonts.check('16px "SF Pro Text"');
      
      document.getElementById('font-status').innerHTML = sfProLoaded
        ? '<span class="status success">âœ“ SF Pro å­—ä½“å·²åŠ è½½</span>'
        : '<span class="status error">âœ— SF Pro å­—ä½“æœªåŠ è½½</span>';
      
      // åˆ—å‡ºæ‰€æœ‰å·²åŠ è½½çš„å­—ä½“
      const fontList = document.getElementById('font-list');
      document.fonts.forEach(font => {
        if (font.family.includes('SF')) {
          const li = document.createElement('li');
          li.innerHTML = `<code>${font.family}</code> - <span class="status ${font.status === 'loaded' ? 'success' : 'error'}">${font.status}</span>`;
          fontList.appendChild(li);
        }
      });
      
      if (fontList.children.length === 0) {
        fontList.innerHTML = '<li>æœªæ‰¾åˆ° SF Pro ç›¸å…³å­—ä½“</li>';
      }
    });
    
    // æ£€æŸ¥ @font-face è§„åˆ™
    const fontFaces = [];
    Array.from(document.styleSheets).forEach(sheet => {
      try {
        Array.from(sheet.cssRules || []).forEach(rule => {
          if (rule.type === CSSRule.FONT_FACE_RULE) {
            if (rule.style.fontFamily.includes('SF')) {
              fontFaces.push({
                family: rule.style.fontFamily,
                src: rule.style.src
              });
            }
          }
        });
      } catch (e) {
        // è·¨åŸŸæ ·å¼è¡¨å¯èƒ½æ— æ³•è®¿é—®
      }
    });
    
    if (fontFaces.length > 0) {
      const fontList = document.getElementById('font-list');
      fontFaces.forEach(ff => {
        const li = document.createElement('li');
        li.innerHTML = `<code>${ff.family}</code> - <code>${ff.src}</code>`;
        fontList.appendChild(li);
      });
    }
  </script>
</body>
</html>
